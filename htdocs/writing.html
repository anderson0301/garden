<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><title>執筆用 | ●●● | マイホームブログ | Web屋の芝生DIY</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/shared/css/basic.css" media="all"></head><body class="lyt-main-sub turf"><div id="content"><main><div id="main-inner"><p class="main-visual"><img src="/wp-content/uploads/thum-turf.jpg" alt=""></p>


<!--======================================ここから記事用ソース======================================-->

<p>これまでAmazonで購入した商品レビューの類の記事では、Amazonアソシエイトのリンクをtable要素にて手動で設置していたのですが、もっとAmazonらしいリンクかつ販売者や価格もリアルタイムで表示できるよう改修を試みることに。APIを使ったJavascriptベースでのフルスクラッチ開発は難しそうだったので、プラグイン<strong>「Associates Link Builder」</strong>を導入して対応することにしました。</p>
[adsense_top]
<p>そこで本記事では、プラグイン「Associates Link Builder」を活用して、洗練されたデザインでAmazonアソシエイトのリンクを設置する方法についてご紹介させていただきたいと思います。</p>
<h2 class="hdg-l2-01">アソシエイト管理画面で生成されるものはイマイチ</h2>
<p>これまでtable要素で主に対応していた理由の1つでもあるのですが、Amazonアソシエイトの管理画面で「テキストと画像」にて商品リンクを作成すると、以下のように非常に簡素でちょっと一昔を思わせるようなデザインで表示することになるんですね。</p>
<p><img src="/images/blog/2018/02/23_01_01.jpg" alt="" width="" height=""></p>
<h3 class="hdg-l3-01">しかもiframeで設置することになる</h3>
<p>iframeではサイトパフォーマンスも落ちますし、Web屋の芝生DIYは全てAMP対応していることもありそもそもiframeで設置することはできません。なので、静的リンクで以下のようにtableでせめてリンクと価格だけでも表示していたんですね。</p>
<table class="tbl-01 sp-lyt-on">
<tbody>
<tr>
<th>商品名</th>
<td><a href="http://amzn.to/2fpBKo5" target="_blank">マルト（MARUTO）レインカバー・前用・上下セット D-5FC+OP ブルー</a></td>
</tr>
<tr>
<th>値段</th>
<td>約3,300円</td>
</tr>
</tbody>
</table>
<h2 class="hdg-l2-01">「Associates Link Builder」を採用した理由</h2>
<p>Amazonアソシエイトのリンクを設置するWordPressのプラグインといえば、<strong>「AmazonJS」</strong>が有名ですが、今回こちらの採用は見送りました。と言いますのも、非常に便利なプラグインですし、だから広く使われていると思うですが、JavascriptベースでDOM生成するので、あんまりパフォーマンスがよくはないんですね。</p>
<p>開発も停止しているらしく、中長期的にサイト運営を考えた時、<strong>「WordPressのバージョンアップに伴い使えなくなった」</strong>というリスクだけは避けるべきと考えました。また、WordPressのポピュラーなテーマであれば比較的導入の敷居は低くないようですが、試しに導入を試みたところ不可能ではないと思うのですが、オリジナルテーマであるWeb屋の芝生DIYではどうにも導入が難しそうであった点も、見送った理由の1つです。</p>
<p>さらに、結局Javascriptを実行する必要があるのでAMP対応も不可です。</p>
<p>「カエレバ」や「ヨメレバ」といった外部の商品紹介ツールも検討しましたが、Web屋の芝生DIYではAmazonへのリンクがあれば十分で、書籍紹介も少ないためこれらはやはりマッチしませんでした。</p>
<h3 class="hdg-l3-01">「Associates Link Builder」はWeb屋の芝生DIYにマッチした</h3>
<p>ということで消去法というわけではないんですが、以下の点を満たした<strong>「Associates Link Builder」</strong>はWeb屋の芝生DIYと非常に親和性が高かったんですね。</p>
<ul class="list-bullet-01">
<li>価格やメーカーをリアルタイムで取得できる</li>
<li>AMP対応している（htmlで要素を出力できる）</li>
<li>カスタマイズが可能（オリジナルテンプレートを作成可能）</li>
<li>投稿画面からショートコードで簡単に設置できる</li>
</ul>
<h2 class="hdg-l2-01">ということで、以下導入手順です</h2>
<p>前置きが長くなりましたが、以降はプラグイン「Associates Link Builder」の導入手順について説明させていただきます。</p>

<h3 class="hdg-l3-01">テンプレートのサンプルコード</h3>
<pre><code>{{#Items}}
&lt;div class=&quot;az-item&quot;&gt;
{{#Item}}
{{#aalb}}
&lt;a href=&quot;{{DetailPageURL}}&quot; target=&quot;_blank&quot;&gt;
&lt;p class=&quot;img&quot;&gt;&lt;img width=&quot;250&quot; height=&quot;250&quot; src=&quot;{{MediumImageURL}}&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;info&quot;&gt;
&lt;p&gt;{{Title}}&lt;/p&gt;
&lt;ul&gt;
{{#InStock}}
{{#Saving}}
&lt;li&gt;参考価格：{{StrikePrice}}&lt;/li&gt;
{{/Saving}}
&lt;li&gt;価格：&lt;span class=&quot;price&quot;&gt;{{CurrentPrice}}&lt;/span&gt;{{#Prime}}&lt;img width=&quot;52&quot; height=&quot;13&quot; src=&quot;/shared/images/arrow_prime.png&quot; alt=&quot;プライム&quot;&gt;{{/Prime}}&lt;/li&gt;
{{/InStock}}
{{#By}}
&lt;li&gt;メーカー：{{By}}&lt;/li&gt;
{{/By}}
{{#Merchant}}
&lt;li&gt;販売者：{{Merchant}}&lt;/li&gt;
{{/Merchant}}
&lt;/ul&gt;
&lt;/div&gt;
{{/aalb}}
{{/Item}}
&lt;/a&gt;
&lt;/div&gt;
{{/Items}}</code></pre>
<h3 class="hdg-l3-01">css</h3>
<pre><code>div.az-item{
  transition:all 0.15s ease;
  border:1px solid #ddd;
  margin-bottom:20px;
}

div.az-item a{
  padding:10px;
  display:block;
}

div.az-item a:before,
div.az-item a:after{
  content:"";
  display:table;
}

div.az-item a:after{
  clear:both;
}

div.az-item a p.img{
  width:21%;
  float:left;
  text-align:center;
}

div.az-item a div.info{
  width:76%;
  float:right;
  overflow:hidden;
}

div.az-item a div.info p{
  margin-bottom:5px;
  text-decoration:underline;
}

div.az-item a div.info :not(p){
  color:#333;
  text-decoration:none;
}

div.az-item a div.info ul{
  font-size:0.8rem;
}

div.az-item a div.info ul li span.price{
  margin-right:5px;
  display:inline-block;
  color:#900;
  font-size:1rem;
}

div.az-item a:hover div.info p{
  text-decoration:none;
}

div.az-item:hover{
  border:1px solid #387922;
}

@media screen and (max-width:540px){
  div.az-item a div.info p{
  	font-size:0.7rem;
  }

  div.az-item a div.info ul{
  	font-size:0.7rem;
  }

  div.az-item a div.info ul li span.price{
  	font-size:0.75rem;
  }
}

</code></pre>


<h2 class="hdg-l2-01">まとめ</h2>
<p></p>


<!--======================================ここまで記事用ソース======================================-->

<!--
<p><img src="/images/blog/2018/02/XX_01_XX.jpg" alt="" width="660" height=""></p>
<h2 class="hdg-l2-01">まとめ</h2>
<p></p>
-->

</div><!--/#main-inner--></main></div><!--/#content--><p class="page_top"><a href="#">ページの先頭に戻る</a></p><footer><p>&copy;2016 Web屋の芝生DIY All rights reserved.</p></footer><script src="//code.jquery.com/jquery-2.2.4.min.js"></script><script src="/shared/js/init.js"></script><script></script></body></html>