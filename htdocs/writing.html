<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><title>執筆用 | ●●● | マイホームブログ | Web屋の芝生DIY</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/shared/css/basic.css" media="all"></head><body class="lyt-main-sub turf"><div id="content"><main><div id="main-inner"><p class="main-visual"><img src="/wp-content/uploads/thum-turf.jpg" alt=""></p>


<!--======================================ここから記事用ソース======================================-->

<p>企業のイントラサイト閲覧や独自ドメインのテスト時において、DNSキャッシュの影響でWindows環境でうまく接続できないことがあります。そんな時はコマンドプロンプトでコマンドを実行することで解決に至ることがありますので、同事象に遭遇の際はぜひ試してみてください。</p>
[adsense_top]
<h2 class="hdg-l2-01">DNSキャッシュのクリア手順</h2>
<p>Windowsキー+Rで「ファイル名を指定して実行」を呼び出し、「cmd」と入力して「OK」をクリックします。これでコマンドプロンプトが立ち上がります。</p>
<p><img src="/images/blog/2018/04/20_01_01.jpg" alt="" width="660" height=""></p>
<p>以下のコマンドを入力し、「Enter」を押します。</p>
<pre><code>ipconfig/flushdns</code></pre>
<p><img src="/images/blog/2018/04/20_01_02.jpg" alt="" width="660" height=""></p>
<p><strong>「DNSリゾルバーキャッシュは正常にフラッシュされました。」</strong>と表示されればOKです。</p>
<p><img src="/images/blog/2018/04/20_01_03.jpg" alt="" width="660" height=""></p>
<p>キャッシュが削除されたかどうか確認するには、以下のコマンドを実行します。</p>
<pre><code>ipconfig/displaydns</code></pre>
<p>XAMPPなどでローカルサーバを構築している場合は、ローカルサーバのみの情報が表示されます。</p>
<p><img src="/images/blog/2018/04/20_01_04.jpg" alt="" width="660" height=""></p>
<p>ローカルサーバを何も構築していない場合は、</p>
<pre><code>DNSリゾルバーキャッシュを表示できませんでした。</code></pre>
<p>と表示されます。</p>
<h2 class="hdg-l2-01">DNSキャッシュをクリアしても接続できない時</h2>
<p>上記の手順を実行しても正常に閲覧できない、また他の人は閲覧できているなどの場合は原因特定が難しいと思いますので、hostで名前解決してしまいましょう。これで接続が確実に安定します。</p>
<pre><code>xxx.xxx.xxx.xxx www.hoge.co.jp</code></pre>
<h3 class="hdg-l3-01">hostファイルの場所</h3>
<table class="tbl-01">
<tbody>
<tr>
<th>Windows</th>
<td>C:\Windows\System32\drivers\etc\hosts</td>
</tr>
<tr>
<th>Mac</th>
<td>/private/etc/hosts
<ul class="list-notice-01 mb0">
<li><span>※</span>root権限必須</li>
</ul>
</td>
</tr>
</tbody>
</table>
<h2 class="hdg-l2-01">まとめ</h2>
<p>「これまで接続できていたサイトが見れない」「サーバへの接続テストをしたいがうまくいかない」という場合は、ご紹介したDNSキャッシュのクリアを試してみましょう。DNS自体が正しく設定されてさえいれば、正常に接続できるようになるはずです。</p>
<p>それでもダメな場合は、hostで名前解決すると安定して接続が可能になります。</p>


<!--======================================ここまで記事用ソース======================================-->

<!--
<p><img src="/images/blog/2018/02/XX_01_XX.jpg" alt="" width="660" height=""></p>
<h2 class="hdg-l2-01">まとめ</h2>
<p></p>
-->

</div><!--/#main-inner--></main></div><!--/#content--><p class="page_top"><a href="#">ページの先頭に戻る</a></p><footer><p>&copy;2016 Web屋の芝生DIY All rights reserved.</p></footer><script src="//code.jquery.com/jquery-2.2.4.min.js"></script><script src="/shared/js/init.js"></script><script></script></body></html>